<!DOCTYPE html>
<html>

<head>
    <style>
        canvas {
            border: 3px solid black;
        }
    </style>
</head>

<body>
    <canvas id="gameCanvas"></canvas>

    <script>
        // Game Canvas
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");

        // Background
        const background = new Image();
        background.src = "cubes.png";
        let bgh = 0;
        let bgw = 0;
        // I can't figure out how to get the height and width of an image yet, so setting it manually
        backgroundWidth = 284;
        backgroundHeight = 164;        
        let bgx = 0;
        let bgy = 0;


        function setCanvasSize() {
            canvas.width = window.innerWidth - 30;
            canvas.height = window.innerHeight - 30;
        }

        function drawBackground() {
            for (let i = bgx; i < canvas.width; i += backgroundWidth) {
                for (let j = bgy; j < canvas.height; j += backgroundHeight) {
                    //console.log(i, j);
                    ctx.drawImage(background, i, j);
                }
            }
        }
        //setCanvasSize()
        //drawBackground()
        // Main Loop
        function gameLoop() {
            setCanvasSize();
            
            bgx -= 1;
            bgy -= 1;
            if (bgx > background.width) {bgx = 0;}
            if (bgy > background.height) {bgy = 0;}
            drawBackground();

            requestAnimationFrame(gameLoop);
        }
        requestAnimationFrame(gameLoop);


        // Background



    </script>

</body>

</html>